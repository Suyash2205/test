<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Math Lock Breaker</title>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: "Inter", "Segoe UI", sans-serif;
    background: linear-gradient(135deg,#1d2671,#c33764);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* MAIN CARD */
.game-container {
    background: #ffffff;
    width: 920px;
    border-radius: 22px;
    padding: 28px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.35);
}

/* HEADER */
.game-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 16px;
    border-bottom: 2px solid #eee;
    margin-bottom: 22px;
}

.game-title {
    font-size: 32px;
    font-weight: 800;
    color: #4f46e5;
}

.stats {
    display: flex;
    gap: 35px;
}

.stat {
    text-align: center;
}

.stat span {
    font-size: 26px;
    font-weight: 800;
}

.timer { color: #ef4444; }

/* LOCK GRID */
.locks-container {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 18px;
    margin-bottom: 26px;
}

.lock {
    aspect-ratio: 1;
    background: linear-gradient(135deg,#6366f1,#8b5cf6);
    border-radius: 16px;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: 0.2s ease;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

.lock:hover {
    transform: translateY(-4px);
    box-shadow: 0 18px 40px rgba(0,0,0,0.3);
}

.lock.broken {
    background: #9ca3af;
    cursor: not-allowed;
    box-shadow: none;
    transform: none;
}

.lock-icon { font-size: 40px; }
.lock-number { font-weight: 700; margin-top: 6px; }

/* QUESTION CARD */
.question-container {
    background: #f9fafb;
    border-radius: 18px;
    padding: 28px;
    text-align: center;
}

.question-text {
    font-size: 34px;
    font-weight: 800;
    margin-bottom: 20px;
}

.answer-input {
    font-size: 28px;
    width: 200px;
    padding: 10px;
    border-radius: 12px;
    border: 3px solid #6366f1;
    text-align: center;
}

.submit-btn {
    margin-top: 16px;
    padding: 12px 38px;
    font-size: 18px;
    background: linear-gradient(135deg,#6366f1,#8b5cf6);
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
}

.feedback {
    margin-top: 14px;
    font-size: 22px;
    min-height: 28px;
}

.correct { color: #16a34a; }
.incorrect { color: #dc2626; }

/* GAME OVER */
.game-over {
    text-align: center;
    padding: 50px;
}

.game-over h2 {
    font-size: 48px;
    font-weight: 800;
}

.restart-btn {
    margin-top: 26px;
    font-size: 22px;
    padding: 14px 44px;
    background: linear-gradient(135deg,#6366f1,#8b5cf6);
    color: white;
    border: none;
    border-radius: 14px;
    cursor: pointer;
}
</style>
</head>

<body>

<div id="root"></div>

<!-- React CDN -->
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<script type="text/babel">
function MathLockBreaker() {
  const [score, setScore] = React.useState(0);
  const [time, setTime] = React.useState(50);
  const [locks, setLocks] = React.useState([]);
  const [selected, setSelected] = React.useState(null);
  const [answer, setAnswer] = React.useState('');
  const [gameOver, setGameOver] = React.useState(false);
  const [message, setMessage] = React.useState('');
  const [feedback, setFeedback] = React.useState('');

  React.useEffect(() => {
    generateLocks();
    const timer = setInterval(() => {
      setTime(t => {
        if (t <= 1) {
          clearInterval(timer);
          endGame("Time's Up!");
          return 0;
        }
        return t - 1;
      });
    }, 1000);
    return () => clearInterval(timer);
  }, []);

  function generateLocks() {
    const ops = ['+','-','*','/'];
    const temp = [];
    for (let i = 1; i <= 6; i++) {
      let op = ops[Math.floor(Math.random()*4)];
      let a,b,ans;
      if(op==='+'){a=10+Math.random()*80|0;b=10+Math.random()*80|0;ans=a+b;}
      if(op==='-'){a=40+Math.random()*80|0;b=1+Math.random()*30|0;ans=a-b;}
      if(op==='*'){a=2+Math.random()*15|0;b=2+Math.random()*10|0;ans=a*b;}
      if(op==='/'){ans=2+Math.random()*10|0;b=2+Math.random()*10|0;a=ans*b;}
      temp.push({id:i,q:`${a} ${op} ${b}`,a:ans,done:false});
    }
    setLocks(temp);
  }

  function submit() {
    if (!selected) return;
    if (parseInt(answer) === selected.a) {
      setFeedback('âœ“ Correct!');
      setScore(s => s + 10);
      selected.done = true;
      setLocks([...locks]);
      if (locks.every(l => l.done)) endGame("All Locks Broken!");
    } else {
      setFeedback('âœ— Wrong! -2 points');
      setScore(s => Math.max(0, s - 2));
    }
    setAnswer('');
  }

  function endGame(msg) {
    setGameOver(true);
    setMessage(msg);
  }

  if (gameOver) {
    return (
      <div className="game-container game-over">
        <h2>{message}</h2>
        <div style={{fontSize:28}}>Final Score: {score}</div>
        <button className="restart-btn" onClick={() => location.reload()}>Play Again</button>
      </div>
    );
  }

  return (
    <div className="game-container">
      <div className="game-header">
        <h1 className="game-title">ðŸ”“ Math Lock Breaker</h1>
        <div className="stats">
          <div className="stat">Score<br/><span>{score}</span></div>
          <div className="stat">Time<br/><span className="timer">{time}</span></div>
        </div>
      </div>

      <div className="locks-container">
        {locks.map(lock => (
          <div
            key={lock.id}
            className={`lock ${lock.done ? 'broken' : ''}`}
            onClick={() => !lock.done && setSelected(lock)}
          >
            <div className="lock-icon">{lock.done ? 'ðŸ”“' : 'ðŸ”’'}</div>
            <div className="lock-number">Lock {lock.id}</div>
          </div>
        ))}
      </div>

      <div className="question-container">
        <div className="question-text">{selected ? selected.q : 'Select a lock'}</div>
        <input
          className="answer-input"
          value={answer}
          onChange={e => setAnswer(e.target.value)}
          disabled={!selected}
        />
        <br/>
        <button className="submit-btn" onClick={submit} disabled={!selected}>
          Submit
        </button>
        <div className={`feedback ${feedback.includes('Correct') ? 'correct' : 'incorrect'}`}>
          {feedback}
        </div>
      </div>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<MathLockBreaker />);
</script>

</body>
</html>
